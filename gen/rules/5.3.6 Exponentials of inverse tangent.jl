@rule ((~d)^-1)*Subst(integrate(((~a + ~b*ArcCot(~x))^~p)*((((~d)^-1)*(~d*~e - ~c*~f) + ~f*~x*((~d)^-1))^~m)*((~C*((~d)^-2) + ~C*((~d)^-2)*((~x)^2))^~q), ~x), ~x, ~c + ~d*~x) => integrate((~E)^(~n*ArcTan(~a*~x)), ~x)

@rule integrate((((1 + ~I*~a*~x)^(-(1//2)*(~I*~n - 1)))*(sqrt(1 + ((~a)^2)*((~x)^2))^-1))*((1 - ~I*~a*~x)^((1//2)*(1 + ~I*~n))), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~x)^~m), ~x)

@rule integrate(((~x)^~m)*(((1 + ~I*~a*~x)^(-(1//2)*(~I*~n - 1)))*(sqrt(1 + ((~a)^2)*((~x)^2))^-1))*((1 - ~I*~a*~x)^((1//2)*(1 + ~I*~n))), ~x) => integrate((~E)^(~n*ArcTan(~a*~x)), ~x)

@rule integrate(((1 + ~I*~a*~x)^(-(1//2)*~I*~n))*((1 - ~I*~a*~x)^((1//2)*~I*~n)), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~x)^~m), ~x)

@rule integrate(((~x)^~m)*((1 + ~I*~a*~x)^(-(1//2)*~I*~n))*((1 - ~I*~a*~x)^((1//2)*~I*~n)), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*~x)^~p), ~x)

@rule ((~c)^~p)*integrate(~u*((1 + ~I*~a*~x)^(-(1//2)*~I*~n))*((1 + ~d*~x*((~c)^-1))^~p)*((1 - ~I*~a*~x)^((1//2)*~I*~n)), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*~x)^~p), ~x)

@rule integrate(~u*((1 + ~I*~a*~x)^(-(1//2)*~I*~n))*((1 - ~I*~a*~x)^((1//2)*~I*~n))*((~c + ~d*~x)^~p), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^-1))^~p), ~x)

@rule ((~d)^~p)*integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~x)^(-~p))*((1 + ~c*~x*((~d)^-1))^~p), ~x) => integrate(~u*((~E)^(~n*ArcTanh(~a*~x)))*((~c + ~d*((~x)^-1))^~p), ~x)

@rule ((~c)^~p)*((-1)^((1//2)*~n))*integrate(~u*((1 + ~d*(((~c)^-1)*((~x)^-1)))^~p)*((1 + (~I*~a*~x)^-1)^(-(1//2)*~I*~n))*((1 - ((~I)^-1)*((~a)^-1)*((~x)^-1))^((1//2)*~I*~n)), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^-1))^~p), ~x)

@rule integrate(~u*((1 + ~I*~a*~x)^(-(1//2)*~I*~n))*((1 - ~I*~a*~x)^((1//2)*~I*~n))*((~c + ~d*((~x)^-1))^~p), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^-1))^~p), ~x)

@rule ((~x)^~p)*((1 + ~c*~x*((~d)^-1))^(-~p))*((~c + ~d*((~x)^-1))^~p)*integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~x)^(-~p))*((1 + ~c*~x*((~d)^-1))^~p), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^((-3//1)*(1//2))), ~x)

@rule ((~E)^(~n*ArcTan(~a*~x)))*(~n + ~a*~x)*(((~a)^-1)*((~c)^-1)*((1 + (~n)^2)^-1)*(sqrt(~c + ~d*((~x)^2))^-1)) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule (2 + 2~p)*(3 + 2~p)*(((~c)^-1)*(((~n)^2 + 4((1 + ~p)^2))^-1))*integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^(1 + ~p)), ~x) + ((~E)^(~n*ArcTan(~a*~x)))*(~n - 2~a*~x*(1 + ~p))*((~c + ~d*((~x)^2))^(1 + ~p))*(((~a)^-1)*((~c)^-1)*(((~n)^2 + 4((1 + ~p)^2))^-1)) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^-1), ~x)

@rule ((~E)^(~n*ArcTan(~a*~x)))*(((~a)^-1)*((~c)^-1)*((~n)^-1)) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^~p)*integrate(((1 + ((~a)^2)*((~x)^2))^(~p - (1//2)*~I*~n))*((1 - ~I*~a*~x)^(~I*~n)), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^~p)*integrate(((1 + ~I*~a*~x)^(~p - (1//2)*~I*~n))*((1 - ~I*~a*~x)^(~p + (1//2)*~I*~n)), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^((1//2)*~I*~n))*integrate(((1 - ~I*~a*~x)^(~I*~n))*((~c + ~d*((~x)^2))^(~p - (1//2)*~I*~n)), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^(-(1//2)*~I*~n))*integrate(((~c + ~d*((~x)^2))^(~p + (1//2)*~I*~n))*((1 + ~I*~a*~x)^(-~I*~n)), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^IntPart(~p))*((1 + ((~a)^2)*((~x)^2))^(-FracPart(~p)))*((~c + ~d*((~x)^2))^FracPart(~p))*integrate(((~E)^(~n*ArcTan(~a*~x)))*((1 + ((~a)^2)*((~x)^2))^~p), ~x) => integrate(~x*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^((-3//1)*(1//2))), ~x)

@rule ((~E)^(~n*ArcTan(~a*~x)))*(~a*~n*~x - 1)*(((~d)^-1)*((1 + (~n)^2)^-1)*(sqrt(~c + ~d*((~x)^2))^-1)) => integrate(~x*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^(1 + ~p))*((1//2)*((~d)^-1)*((1 + ~p)^-1)) - ~a*~c*~n*((1//2)*((~d)^-1)*((1 + ~p)^-1))*integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~x)^2)*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^(1 + ~p))*(~a*~n*~x - 1)*(((~a)^-1)*((~d)^-1)*((~n)^-1)*((1 + (~n)^2)^-1)) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~x)^2)*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~n)^2 - 2 - 2~p)*(((~d)^-1)*(((~n)^2 + 4((1 + ~p)^2))^-1))*integrate(((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^(1 + ~p)), ~x) + ((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^(1 + ~p))*(~a*~x*(2 + 2~p) - ~n)*(((~a)^-1)*((~d)^-1)*(((~n)^2 + 4((1 + ~p)^2))^-1)) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~x)^~m)*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^~p)*integrate(((~x)^~m)*((1 + ((~a)^2)*((~x)^2))^(~p - (1//2)*~I*~n))*((1 - ~I*~a*~x)^(~I*~n)), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~x)^~m)*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^~p)*integrate(((~x)^~m)*((1 + ~I*~a*~x)^(~p - (1//2)*~I*~n))*((1 - ~I*~a*~x)^(~p + (1//2)*~I*~n)), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~x)^~m)*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^((1//2)*~I*~n))*integrate(((~x)^~m)*((1 - ~I*~a*~x)^(~I*~n))*((~c + ~d*((~x)^2))^(~p - (1//2)*~I*~n)), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~x)^~m)*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^(-(1//2)*~I*~n))*integrate(((~x)^~m)*((~c + ~d*((~x)^2))^(~p + (1//2)*~I*~n))*((1 + ~I*~a*~x)^(-~I*~n)), ~x) => integrate(((~E)^(~n*ArcTan(~a*~x)))*((~x)^~m)*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^IntPart(~p))*((1 + ((~a)^2)*((~x)^2))^(-FracPart(~p)))*((~c + ~d*((~x)^2))^FracPart(~p))*integrate(((~E)^(~n*ArcTan(~a*~x)))*((~x)^~m)*((1 + ((~a)^2)*((~x)^2))^~p), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^~p)*integrate(~u*((1 + ~I*~a*~x)^(~p - (1//2)*~I*~n))*((1 - ~I*~a*~x)^(~p + (1//2)*~I*~n)), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^IntPart(~p))*((~c + ~d*((~x)^2))^FracPart(~p))*(((1 + ~I*~a*~x)^(-FracPart(~p)))*((1 - ~I*~a*~x)^(-FracPart(~p))))*integrate(~u*((1 + ~I*~a*~x)^(~p - (1//2)*~I*~n))*((1 - ~I*~a*~x)^(~p + (1//2)*~I*~n)), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c)^IntPart(~p))*((1 + ((~a)^2)*((~x)^2))^(-FracPart(~p)))*((~c + ~d*((~x)^2))^FracPart(~p))*integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((1 + ((~a)^2)*((~x)^2))^~p), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^-2))^~p), ~x)

@rule ((~d)^~p)*integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~x)^(-2~p))*((1 + ((~a)^2)*((~x)^2))^~p), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^-2))^~p), ~x)

@rule ((~c)^~p)*integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((1 + ~I*(((~a)^-1)*((~x)^-1)))^~p)*((1 - ~I*(((~a)^-1)*((~x)^-1)))^~p), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^-2))^~p), ~x)

@rule ((~x)^(2~p))*((~c + ~d*((~x)^-2))^~p)*(((1 + ~I*~a*~x)^(-~p))*((1 - ~I*~a*~x)^(-~p)))*integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~x)^(-2~p))*((1 + ~I*~a*~x)^~p)*((1 - ~I*~a*~x)^~p), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~c + ~d*((~x)^-2))^~p), ~x)

@rule ((~x)^(2~p))*((1 + ((~a)^2)*((~x)^2))^(-~p))*((~c + ~d*((~x)^-2))^~p)*integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((~x)^(-2~p))*((1 + ((~a)^2)*((~x)^2))^~p), ~x) => integrate((~E)^(~n*ArcTan(~c*(~a + ~b*~x))), ~x)

@rule integrate(((1 + ~I*~a*~c + ~I*~b*~c*~x)^(-(1//2)*~I*~n))*((1 - ~I*~a*~c - ~I*~b*~c*~x)^((1//2)*~I*~n)), ~x) => integrate(((~E)^(~n*ArcTan(~c*(~a + ~b*~x))))*((~x)^~m), ~x)

@rule 4(((~I)^(-~m))*((~b)^(-1 - ~m))*((~c)^(-1 - ~m))*((~n)^-1))*Subst(integrate(((~x)^(2(((~I)^-1)*((~n)^-1))))*((1 + (~x)^(2(((~I)^-1)*((~n)^-1))))^(-2 - ~m))*((1 - ((~x)^(2(((~I)^-1)*((~n)^-1))))*(1 + ~I*~a*~c) - ~I*~a*~c)^~m), ~x), ~x, ((1 + ~I*~c*(~a + ~b*~x))^(-(1//2)*~I*~n))*((1 - ~I*~c*(~a + ~b*~x))^((1//2)*~I*~n))) => integrate(((~E)^(~n*ArcTan(~c*(~a + ~b*~x))))*((~d + ~e*~x)^~m), ~x)

@rule integrate(((~d + ~e*~x)^~m)*((1 + ~I*~a*~c + ~I*~b*~c*~x)^(-(1//2)*~I*~n))*((1 - ~I*~a*~c - ~I*~b*~c*~x)^((1//2)*~I*~n)), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a + ~b*~x)))*((~c + ~d*~x + ~e*((~x)^2))^~p), ~x)

@rule ((~c*((1 + (~a)^2)^-1))^~p)*integrate(~u*((1 + ~I*~a + ~I*~b*~x)^(~p - (1//2)*~I*~n))*((1 - ~I*~a - ~I*~b*~x)^(~p + (1//2)*~I*~n)), ~x) => integrate(~u*((~E)^(~n*ArcTan(~a + ~b*~x)))*((~c + ~d*~x + ~e*((~x)^2))^~p), ~x)

@rule ((~c + ~d*~x + ~e*((~x)^2))^~p)*((1 + (~a)^2 + ((~b)^2)*((~x)^2) + 2~a*~b*~x)^(-~p))*integrate(~u*((~E)^(~n*ArcTan(~a*~x)))*((1 + (~a)^2 + ((~b)^2)*((~x)^2) + 2~a*~b*~x)^~p), ~x) => integrate(~u*((~E)^(~n*ArcTan(~c*((~a + ~b*~x)^-1)))), ~x)

@rule integrate(~u*((~E)^(~n*ArcCot(~a*((~c)^-1) + ~b*~x*((~c)^-1)))), ~x) => integrate(~u*((~E)^(~n*ArcCot(~a*~x))), ~x)

@rule ((-1)^((1//2)*~I*~n))*integrate(~u*((~E)^(-~n*ArcTan(~a*~x))), ~x) => integrate((~E)^(~n*ArcCot(~a*~x)), ~x)

@rule -Subst(integrate(((1 - ~I*~x*((~a)^-1))^((1//2)*(1 + ~I*~n)))*(((~x)^-2)*((1 + ~I*~x*((~a)^-1))^(-(1//2)*(~I*~n - 1)))*(sqrt(1 + ((~a)^-2)*((~x)^2))^-1)), ~x), ~x, (~x)^-1) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^~m), ~x)

@rule -Subst(integrate(((1 - ~I*~x*((~a)^-1))^((1//2)*(1 + ~I*~n)))*(((~x)^(-2 - ~m))*((1 + ~I*~x*((~a)^-1))^(-(1//2)*(~I*~n - 1)))*(sqrt(1 + ((~a)^-2)*((~x)^2))^-1)), ~x), ~x, (~x)^-1) => integrate((~E)^(~n*ArcCot(~a*~x)), ~x)

@rule -Subst(integrate((((~x)^-2)*((1 + ~I*~x*((~a)^-1))^(-(1//2)*~I*~n)))*((1 - ~I*~x*((~a)^-1))^((1//2)*~I*~n)), ~x), ~x, (~x)^-1) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^~m), ~x)

@rule -Subst(integrate((((~x)^(-2 - ~m))*((1 + ~I*~x*((~a)^-1))^(-(1//2)*~n)))*((1 - ~I*~x*((~a)^-1))^((1//2)*~n)), ~x), ~x, (~x)^-1) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^~m), ~x)

@rule -((~x)^~m)*((~x)^(-~m))*Subst(integrate(((1 - ~I*~x*((~a)^-1))^((1//2)*(1 + ~I*~n)))*(((~x)^(-2 - ~m))*((1 + ~I*~x*((~a)^-1))^(-(1//2)*(~I*~n - 1)))*(sqrt(1 + ((~a)^-2)*((~x)^2))^-1)), ~x), ~x, (~x)^-1) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^~m), ~x)

@rule -Subst(integrate((((~x)^(-2 - ~m))*((1 + ~I*~x*((~a)^-1))^(-(1//2)*~n)))*((1 - ~I*~x*((~a)^-1))^((1//2)*~n)), ~x), ~x, (~x)^-1) => integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*~x)^~p), ~x)

@rule ((~d)^~p)*integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~x)^~p)*((1 + ~c*(((~d)^-1)*((~x)^-1)))^~p), ~x) => integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*~x)^~p), ~x)

@rule ((~c + ~d*~x)^~p)*(((~x)^(-~p))*((1 + ~c*(((~d)^-1)*((~x)^-1)))^(-~p)))*integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~x)^~p)*((1 + ~c*(((~d)^-1)*((~x)^-1)))^~p), ~x) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^-1))^~p), ~x)

@rule -((~c)^~p)*Subst(integrate((((~x)^-2)*((1 + ~I*~x*((~a)^-1))^(-(1//2)*~I*~n)))*((1 + ~d*~x*((~c)^-1))^~p)*((1 - ~I*~x*((~a)^-1))^((1//2)*~I*~n)), ~x), ~x, (~x)^-1) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^~m)*((~c + ~d*((~x)^-1))^~p), ~x)

@rule -((~c)^~p)*Subst(integrate((((~x)^(-2 - ~m))*((1 + ~I*~x*((~a)^-1))^(-(1//2)*~I*~n)))*((1 + ~d*~x*((~c)^-1))^~p)*((1 - ~I*~x*((~a)^-1))^((1//2)*~I*~n)), ~x), ~x, (~x)^-1) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^-1))^~p), ~x)

@rule ((~c + ~d*((~x)^-1))^~p)*((1 + ~d*(((~c)^-1)*((~x)^-1)))^(-~p))*integrate(((~E)^(~n*ArcCot(~a*~x)))*((1 + ~d*(((~c)^-1)*((~x)^-1)))^~p), ~x) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^~m)*((~c + ~d*((~x)^-1))^~p), ~x)

@rule -((~c)^~p)*((~x)^~m)*((~x)^(-~m))*Subst(integrate((((~x)^(-2 - ~m))*((1 + ~I*~x*((~a)^-1))^(-(1//2)*~I*~n)))*((1 + ~d*~x*((~c)^-1))^~p)*((1 - ~I*~x*((~a)^-1))^((1//2)*~I*~n)), ~x), ~x, (~x)^-1) => integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^-1))^~p), ~x)

@rule ((~c + ~d*((~x)^-1))^~p)*((1 + ~d*(((~c)^-1)*((~x)^-1)))^(-~p))*integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((1 + ~d*(((~c)^-1)*((~x)^-1)))^~p), ~x) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^-1), ~x)

@rule -((~E)^(~n*ArcCot(~a*~x)))*(((~a)^-1)*((~c)^-1)*((~n)^-1)) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^((-3//1)*(1//2))), ~x)

@rule ((~E)^(~n*ArcCot(~a*~x)))*(~a*~x - ~n)*(((~a)^-1)*((~c)^-1)*((1 + (~n)^2)^-1)*(sqrt(~c + ~d*((~x)^2))^-1)) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^(1 + ~p))*(-~n - 2~a*~x*(1 + ~p))*(((~a)^-1)*((~c)^-1)*(((~n)^2 + 4((1 + ~p)^2))^-1)) + (2 + 2~p)*(3 + 2~p)*(((~c)^-1)*(((~n)^2 + 4((1 + ~p)^2))^-1))*integrate(((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^(1 + ~p)), ~x) => integrate(~x*((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^((-3//1)*(1//2))), ~x)

@rule ((~E)^(~n*ArcCot(~a*~x)))*(-1 - ~a*~n*~x)*(((~a)^-2)*((~c)^-1)*((1 + (~n)^2)^-1)*(sqrt(~c + ~d*((~x)^2))^-1)) => integrate(~x*((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule (2 + 2~p - ~a*~n*~x)*((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^(1 + ~p))*(((~a)^-2)*((~c)^-1)*(((~n)^2 + 4((1 + ~p)^2))^-1)) + ~n*(3 + 2~p)*(((~a)^-1)*((~c)^-1)*(((~n)^2 + 4((1 + ~p)^2))^-1))*integrate(((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^(1 + ~p)), ~x) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^2)*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~E)^(~n*ArcCot(~a*~x)))*(~n + ~a*~x*(2 + 2~p))*((~c + ~d*((~x)^2))^(1 + ~p))*(((~a)^-3)*((~c)^-1)*((~n)^-2)*((1 + (~n)^2)^-1)) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^2)*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~n)^2 - 2 - 2~p)*(((~a)^-2)*((~c)^-1)*(((~n)^2 + 4((1 + ~p)^2))^-1))*integrate(((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^(1 + ~p)), ~x) + ((~E)^(~n*ArcCot(~a*~x)))*(~n + ~a*~x*(2 + 2~p))*((~c + ~d*((~x)^2))^(1 + ~p))*(((~a)^-3)*((~c)^-1)*(((~n)^2 + 4((1 + ~p)^2))^-1)) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^~m)*((~c + ~d*((~x)^2))^~p), ~x)

@rule -((~a)^(-1 - ~m))*((~c)^~p)*Subst(integrate(((~E)^(~n*~x))*(cos(~x)^(-2 - 2~p))*(cot(~x)^(2 + ~m + 2~p)), ~x), ~x, ArcCot(~a*~x)) => integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~d)^~p)*integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~x)^(2~p))*((1 + (((~a)^2)*((~x)^2))^-1)^~p), ~x) => integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^2))^~p), ~x)

@rule ((~c + ~d*((~x)^2))^~p)*(((~x)^(-2~p))*((1 + (((~a)^2)*((~x)^2))^-1)^(-~p)))*integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~x)^(2~p))*((1 + (((~a)^2)*((~x)^2))^-1)^~p), ~x) => integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^-2))^~p), ~x)

@rule ((~c)^~p)*((~I*~a)^(-2~p))*integrate(~u*((~x)^(-2~p))*((1 + ~I*~a*~x)^(~p + (1//2)*~I*~n))*((~I*~a*~x - 1)^(~p - (1//2)*~I*~n)), ~x) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^-2))^~p), ~x)

@rule -((~c)^~p)*Subst(integrate(((~x)^-2)*((1 + ~I*~x*((~a)^-1))^(~p - (1//2)*~I*~n))*((1 - ~I*~x*((~a)^-1))^(~p + (1//2)*~I*~n)), ~x), ~x, (~x)^-1) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^~m)*((~c + ~d*((~x)^-2))^~p), ~x)

@rule -((~c)^~p)*Subst(integrate(((~x)^(-2 - ~m))*((1 + ~I*~x*((~a)^-1))^(~p - (1//2)*~I*~n))*((1 - ~I*~x*((~a)^-1))^(~p + (1//2)*~I*~n)), ~x), ~x, (~x)^-1) => integrate(((~E)^(~n*ArcCot(~a*~x)))*((~x)^~m)*((~c + ~d*((~x)^-2))^~p), ~x)

@rule -((~c)^~p)*((~x)^~m)*((~x)^(-~m))*Subst(integrate(((~x)^(-2 - ~m))*((1 + ~I*~x*((~a)^-1))^(~p - (1//2)*~I*~n))*((1 - ~I*~x*((~a)^-1))^(~p + (1//2)*~I*~n)), ~x), ~x, (~x)^-1) => integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((~c + ~d*((~x)^-2))^~p), ~x)

@rule ((~c + ~d*((~x)^-2))^~p)*((1 + (((~a)^2)*((~x)^2))^-1)^(-~p))*integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((1 + (((~a)^2)*((~x)^2))^-1)^~p), ~x) => integrate(~u*((~E)^(~n*ArcCot(~c*(~a + ~b*~x)))), ~x)

@rule ((-1)^((1//2)*~I*~n))*integrate(~u*((~E)^(-~n*ArcTan(~c*(~a + ~b*~x)))), ~x) => integrate((~E)^(~n*ArcCot(~c*(~a + ~b*~x))), ~x)

@rule ((1 + (~I*~c*(~a + ~b*~x))^-1)^((1//2)*~I*~n))*((1 + ~I*~a*~c + ~I*~b*~c*~x)^(-(1//2)*~I*~n))*((~I*~c*(~a + ~b*~x))^((1//2)*~I*~n))*integrate(((1 + ~I*~a*~c + ~I*~b*~c*~x)^((1//2)*~I*~n))*((~I*~a*~c + ~I*~b*~c*~x - 1)^(-(1//2)*~I*~n)), ~x) => integrate(((~E)^(~n*ArcCoth(~c*(~a + ~b*~x))))*((~x)^~m), ~x)

@rule 4(((~I)^(-~m))*((~b)^(-1 - ~m))*((~c)^(-1 - ~m))*((~n)^-1))*Subst(integrate(((~x)^(2(((~I)^-1)*((~n)^-1))))*(((~x)^(2(((~I)^-1)*((~n)^-1))) - 1)^(-2 - ~m))*((1 + ((~x)^(2(((~I)^-1)*((~n)^-1))))*(1 - ~I*~a*~c) + ~I*~a*~c)^~m), ~x), ~x, ((1 + (~I*~c*(~a + ~b*~x))^-1)^((1//2)*~I*~n))*((1 - ((~I)^-1)*((~c)^-1)*((~a + ~b*~x)^-1))^(-(1//2)*~I*~n))) => integrate(((~E)^(~n*ArcCoth(~c*(~a + ~b*~x))))*((~d + ~e*~x)^~m), ~x)

@rule ((1 + (~I*~c*(~a + ~b*~x))^-1)^((1//2)*~I*~n))*((1 + ~I*~a*~c + ~I*~b*~c*~x)^(-(1//2)*~I*~n))*((~I*~c*(~a + ~b*~x))^((1//2)*~I*~n))*integrate(((~d + ~e*~x)^~m)*((1 + ~I*~a*~c + ~I*~b*~c*~x)^((1//2)*~I*~n))*((~I*~a*~c + ~I*~b*~c*~x - 1)^(-(1//2)*~I*~n)), ~x) => integrate(~u*((~E)^(~n*ArcCot(~a + ~b*~x)))*((~c + ~d*~x + ~e*((~x)^2))^~p), ~x)

@rule ((~I*~a + ~I*~b*~x - 1)^(-(1//2)*~I*~n))*((1 - ~I*~a - ~I*~b*~x)^((1//2)*~I*~n))*((~c*((1 + (~a)^2)^-1))^~p)*(((1 + ~I*~a + ~I*~b*~x)*((~I*~a + ~I*~b*~x)^-1))^((1//2)*~I*~n))*((((1 + ~I*~a + ~I*~b*~x)^-1)*(~I*~a + ~I*~b*~x))^((1//2)*~I*~n))*integrate(~u*((1 + ~I*~a + ~I*~b*~x)^(~p + (1//2)*~I*~n))*((1 - ~I*~a - ~I*~b*~x)^(~p - (1//2)*~I*~n)), ~x) => integrate(~u*((~E)^(~n*ArcCot(~a + ~b*~x)))*((~c + ~d*~x + ~e*((~x)^2))^~p), ~x)

@rule ((~c + ~d*~x + ~e*((~x)^2))^~p)*((1 + (~a)^2 + ((~b)^2)*((~x)^2) + 2~a*~b*~x)^(-~p))*integrate(~u*((~E)^(~n*ArcCot(~a*~x)))*((1 + (~a)^2 + ((~b)^2)*((~x)^2) + 2~a*~b*~x)^~p), ~x) => integrate(~u*((~E)^(~n*ArcCot(~c*((~a + ~b*~x)^-1)))), ~x)

